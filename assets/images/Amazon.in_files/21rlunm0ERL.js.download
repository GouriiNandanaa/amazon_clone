(function(f){var g=window.AmazonUIPageJS||window.P,l=g._namespace||g.attributeErrors,a=l?l("CondoAssets",""):g;a.guardFatal?a.guardFatal(f)(a,window):a.execute(function(){f(a,window)})})(function(f,g,l){f.when("A","Condo","CondoEvents","CondoStartup","CondoState").register("CondoAPI",function(a,f,e,c,d){function b(){var b=a.state(d.keys.STATE_KEY)[d.keys.TAKEOVER_KEY];if(!(0>=b.length)){for(var h=0;h<b.length;h++)a.$("#"+b[h]).hide();a.$("#Condo").children().show();c&&c.autosizeBottomsheet&&c.autosizeBottomsheet();
d.clearKey(d.keys.TAKEOVER_KEY)}}a.on(e.CONDO_BOTTOMSHEET_CLOSE,function(a){b()});return{restoreTakeover:b,takeOverCondoInline:function(b,h){a.$("#Condo \x3e :not(#GLOWFeature_"+b+")").hide();a.$("#"+h).show();d.appendUnique(d.keys.TAKEOVER_KEY,h);c&&c.autosizeBottomsheet&&c.autosizeBottomsheet()},storeInFeatureLocker:function(a,b,c){if(20<=b.length||20<=c.length)return"Cannot store objects larger than 20 characters in the Condo Locker";if("string"!==typeof c&&!(c instanceof String)||"string"!==typeof b&&
!(b instanceof String))return"Cannot store complex objects in the Condo Locker.";if(d.getLocker()[a]&&5<=Object.keys(d.getLocker()[a]).length)return"Your Condo Locker is full.";d.addToLocker(a,b,c)},removeItemFromLocker:function(b,c){if(0>=a.state(d.keys.LOCKER_KEY)[b].length)return"You cannot remove anything from your Condo Locker, because it is empty.";d.removeFromLocker(b,c)}}});f.when("A","Condo").register("CondoEvents",function(a,f){return{FEATURE_NOTIFY:"condoEvents:notifyCondo:featureChange",
CONDO_NOTIFY:"condoEvents:notifyPage",CONDO_MODAL_CLOSE:"a:popover:afterHide:glow-modal",CONDO_BOTTOMSHEET_CLOSE:"a:sheet:beforeHide:glux_bottom_sheet",CONDO_BOTTOMSHEET_AFTER_OPEN:"a:sheet:afterShow:glux_bottom_sheet",PROGRAM_SPECIFIC_MODAL_CLOSE:"a:popover:afterHide:program_specific_modal",PROGRAM_SPECIFIC_BOTTOMSHEET_BEFORE_CLOSE:"a:sheet:beforeHide:program_specific_bottom_sheet",DESTINATION_CHANGE_NAV_MSG:"packard:glow:destinationChangeNav",DESTINATION_CHANGE_NAV_ACK_MSG:"packard:glow:destinationChangeNavAck",
DESTINATION_CHANGE_ALL_MSG:"packard:glow:destinationChangeAll"}});f.when("A","Condo","CondoDeviceType").register("CondoMetrics",function(a,f,e){var c=g.ue_pty?g.ue_pty:"NoPageType",d=e.DEVICE_TYPE;return{recordDismissalMetrics:function(){a.$.post("/gp/delivery/ajax/record-glow-metrics.html",{eventType:"GLOW_DISMISS",pageTypeEstimate:c,deviceTypeEstimate:d})}}});f.when("A","Condo","CondoEvents","CondoDeviceType","CondoStartup","CondoState").execute("CondoRefresh",function(a,f,e,c,d,b){function k(){0<=
a.$.inArray("CustomerIntent",a.state(b.keys.STATE_KEY)[b.keys.EVENT_KEY])?a.trigger(e.DESTINATION_CHANGE_NAV_MSG):setTimeout(function(){0<=a.$.inArray("CustomerIntent",a.state(b.keys.STATE_KEY)[b.keys.EVENT_KEY])&&a.trigger(e.DESTINATION_CHANGE_NAV_MSG)},1E3)}a.on(e.FEATURE_NOTIFY,function(e,k){e&&k&&(b.appendUnique(b.keys.EVENT_KEY,k),e={triggerFeature:e,deviceType:c.DEVICE_TYPE,pageType:g.ue_pty?g.ue_pty:"NoPageType",storeContext:f.storeContext,locker:JSON.stringify(b.getLocker())},a.ajax("/portal-migration/hz/glow/condo-refresh-html",
{contentType:"application/amazonui-streaming-json",method:"GET",params:e,success:function(a){d&&d.autosizeBottomsheet&&d.autosizeBottomsheet()}}))});a.on(e.CONDO_MODAL_CLOSE,k);a.on(e.CONDO_BOTTOMSHEET_CLOSE,k);a.on(e.DESTINATION_CHANGE_NAV_ACK_MSG,function(){a.trigger(e.DESTINATION_CHANGE_ALL_MSG);a.trigger(e.CONDO_NOTIFY,a.state(b.keys.STATE_KEY)[b.keys.EVENT_KEY]);b.clearKey(b.keys.EVENT_KEY)})});f.when("A","Condo").register("CondoDeviceType",function(a,f){return{DEVICE_TYPE:"desktop"}});f.register("CondoStartup",
{});f.when("A","Condo").register("CondoState",function(a,f){var e={EventSet:[],Takeover:[]};a.state("CondoState",e);a.state("CondoLocker",{});return{clearState:function(){a.state.replace("CondoState",e)},clearKey:function(c){var d=a.state("CondoState");d[c]=[];a.state.replace("CondoState",d)},appendUnique:function(c,d){var b=a.state("CondoState");c=b[c];0>c.indexOf(d)&&(c.push(d),a.state.replace("CondoState",b))},keys:{EVENT_KEY:"EventSet",TAKEOVER_KEY:"Takeover",STATE_KEY:"CondoState",LOCKER_KEY:"CondoLocker"},
addToLocker:function(c,d,b){var e=a.state("CondoLocker");e[c]||(e[c]={});e[c][d]=b;a.state.replace("CondoLocker",e)},removeFromLocker:function(c,d){var b=a.state("CondoLocker");delete b[c][d];a.state.replace("CondoLocker",b)},getLocker:function(){return a.state("CondoLocker")}}})});